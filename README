These changes are complete and this branch has been merged back into the numbus trunk. Unfortunately, I couldn't
get the log messages to merge, so I have left the branch in svn.
